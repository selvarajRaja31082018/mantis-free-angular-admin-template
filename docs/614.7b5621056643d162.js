"use strict";(self.webpackChunkmantis_free_version=self.webpackChunkmantis_free_version||[]).push([[614],{1614:(D,c,o)=>{o.r(c),o.d(c,{UserComponent:()=>w});var h=o(2389),a=o(4438),g=o(177);class k{constructor(){this.change=new a.bkB,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}defaultId(){return this.DEFAULT_ID}register(t){return null==t.id&&(t.id=this.DEFAULT_ID),this.instances[t.id]?this.updateInstance(t):(this.instances[t.id]=t,!0)}updateInstance(t){let e=!1;for(let i in this.instances[t.id])t[i]!==this.instances[t.id][i]&&(this.instances[t.id][i]=t[i],e=!0);return e}getCurrentPage(t){return this.instances[t]?this.instances[t].currentPage:1}setCurrentPage(t,e){if(this.instances[t]){let i=this.instances[t];e<=Math.ceil(i.totalItems/i.itemsPerPage)&&1<=e&&(this.instances[t].currentPage=e,this.change.emit(t))}}setTotalItems(t,e){this.instances[t]&&0<=e&&(this.instances[t].totalItems=e,this.change.emit(t))}setItemsPerPage(t,e){this.instances[t]&&(this.instances[t].itemsPerPage=e,this.change.emit(t))}getInstance(t=this.DEFAULT_ID){return this.instances[t]?this.clone(this.instances[t]):{}}clone(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}}let L=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.$C({type:n}),n.\u0275inj=a.G2t({providers:[k],imports:[[g.MD]]}),n})();var E=o(5498);function S(n,t){if(1&n&&(a.j41(0,"div",2),a.EFF(1),a.k0s()),2&n){const e=a.XpG();a.R7$(),a.SpI(" ",e.errorMessage," ")}}let w=(()=>{class n{constructor(e){this.authService=e,this.user=[],this.itemsPerPage=5,this.currentPage=1,this.totalItems=0}ngOnInit(){this.loadPage(this.currentPage)}loadPage(e){this.authService.getAllUsers(e,this.itemsPerPage).subscribe(i=>{this.user=i.data,this.totalItems=i.totalCount,console.log("User list fetched successfully",this.user)},i=>{this.errorMessage=i.error?.message||"Failed to fetch user list",console.error("Error fetching user list",i)})}onPageChange(e){this.currentPage=e,this.loadPage(e)}static{this.\u0275fac=function(i){return new(i||n)(a.rXU(E.u))}}static{this.\u0275cmp=a.VBU({type:n,selectors:[["app-user"]],standalone:!0,features:[a.aNF],decls:11,vars:1,consts:[["class","error-message",4,"ngIf"],[1,"user-table"],[1,"error-message"]],template:function(i,r){1&i&&(a.DNE(0,S,2,1,"div",0),a.j41(1,"table",1)(2,"thead")(3,"tr")(4,"th"),a.EFF(5,"Name"),a.k0s(),a.j41(6,"th"),a.EFF(7,"Email"),a.k0s(),a.j41(8,"th"),a.EFF(9,"Telephone"),a.k0s()()(),a.nrm(10,"tbody"),a.k0s()),2&i&&a.Y8G("ngIf",r.errorMessage)},dependencies:[h.G,g.bT,L],styles:[".user-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.user-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .user-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px;text-align:left}.user-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f2f2f2}.user-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f9f9f9}.user-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#ddd}"]})}}return n})()}}]);